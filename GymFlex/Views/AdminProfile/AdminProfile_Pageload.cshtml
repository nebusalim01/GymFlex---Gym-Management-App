@model GymFlex.Models.AdminProfileModel

<link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />

<div class="container-fluid">

    <!-- Top Navbar -->
    <nav class="navbar navbar-dark bg-dark mb-3">
        <span class="navbar-brand ms-3">
            <b>GymFlex Admin Panel</b>
        </span>

        <span class="text-white me-3">
            Logged in as:
            @(Model?.Name ?? "Admin")
        </span>
    </nav>

    <div class="row">

        <!-- Sidebar -->
        <div class="col-md-3 col-lg-2 bg-light border-end" style="min-height: 90vh;">

            <h5 class="mt-3 text-center">Menu</h5>
            <hr />

            <ul class="nav flex-column">

                <li class="nav-item">
                    <a class="nav-link active"
                       asp-controller="AdminProfile"
                       asp-action="AdminProfile_Pageload"
                       asp-route-id="@(Model?.AdminId)">
                        🧑‍💼 Profile
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link"
                       asp-controller="AdminProfile"
                       asp-action="ManageUsers">
                        👥 Manage Users
                    </a>
                </li>

                <!-- Workout Plan Section -->
                <li class="nav-item">
                    <a class="nav-link"
                       asp-controller="WorkoutPlan"
                       asp-action="CreateWorkoutPlan_Pageload">
                        ➕ Create Workout Plan
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link"
                       asp-controller="WorkoutPlan"
                       asp-action="ViewWorkoutPlans">
                        📋 View Workout Plans
                    </a>
                </li>

                <!-- Diet Plan Section -->
                <li class="nav-item">
                    <a class="nav-link"
                       asp-controller="DietPlan"
                       asp-action="AddDietPlan_PageLoad">
                        ➕ Add Diet Plan
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link"
                       asp-controller="DietPlan"
                       asp-action="ViewDietPlans_PageLoad">
                        🥗 View Diet Plans
                    </a>
                </li>

                <!-- Assign Plan (enabled now) -->
                <li class="nav-item">
                    <a class="nav-link"
                       asp-controller="AssignPlan"
                       asp-action="AssignPlan_PageLoad">
                        🎯 Assign Plans
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link text-danger"
                       asp-controller="Login"
                       asp-action="Login_PageLoad">
                        🚪 Logout
                    </a>
                </li>

            </ul>
        </div>

        <!-- Main Content -->
        <div class="col-md-9 col-lg-10 p-4">

            <h3>Admin Profile</h3>
            <hr />

            @if (TempData["msg"] != null)
            {
                <div class="alert alert-info">@TempData["msg"]</div>
            }

            @if (Model == null || Model.AdminId == 0)
            {
                <div class="alert alert-danger">
                    Admin profile failed to load.
                </div>
            }
            else
            {
                <div class="row">

                    <div class="col-md-6">

                        <div class="card shadow p-3">
                            <h5 class="text-center mb-3">Profile Details</h5>

                            <p><b>Admin ID:</b> @Model.AdminId</p>
                            <p><b>Name:</b> @Model.Name</p>
                            <p><b>Phone:</b> @Model.Phone</p>
                            <p><b>Email:</b> @Model.Email</p>
                            <p><b>Created On:</b> @Model.CreatedAt.ToShortDateString()</p>
                        </div>
                    </div>

                    <div class="col-md-6">

                        <div class="card shadow p-3 mb-3 bg-success text-white">
                            <h5>Total Users</h5>
                            <p>@ViewBag.TotalUsers</p>
                        </div>

                        <div class="card shadow p-3 mb-3 bg-info text-white">
                            <h5>Total Workout Plans</h5>
                            <p>@ViewBag.TotalWorkoutPlans</p>
                        </div>

                        <div class="card shadow p-3 bg-warning text-white">
                            <h5>Total Diet Plans</h5>
                            <p>@ViewBag.TotalDietPlans</p>
                        </div>

                    </div>
                </div>
            }
        </div>
    </div>
</div>
